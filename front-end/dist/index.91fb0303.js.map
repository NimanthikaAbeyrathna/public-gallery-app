{"mappings":"ACEA,MAAM,EAAU,EAAE,YACZ,EAAY,EAAE,eACd,EAAc,EAAE,cAChB,EAAe,gCAGrB,AAkEA,CAAA,WACI,IAAM,EAAQ,EAAE,KAAK,CAAC,EAAE,EAAa,OAAO,CAAC,EAC7C,EAAM,KAAK,AAAC,IAER,EAAc,QAAQ,AAAA,IAClB,IAAM,EAAS,EAAE,6BACjB,EAAO,IAAI,mBAAmB,CAAC,KAAK,EAAE,EAAS,EAAE,CAAC,EAClD,EAAE,QAAQ,OAAO,EACrB,EACJ,GACA,EAAM,KAAK,KAEX,EACJ,CAAA,IA7EA,EAAU,GAAG,QAAS,IAAM,EAAQ,YAAY,WAEhD,EAAQ,GAAG,QAAQ,AAAC,IACd,EAAU,SAAS,CAAO,CAAC,EAAE,EAAE,EAAQ,SAAS,SACtD,GAEA,EAAE,UAAU,GAAG,UAAU,AAAC,IACF,WAAhB,EAAU,KAAmB,EAAQ,SAAS,WAC9C,EAAQ,SAAS,SAEzB,GAEA,EAAY,GAAG,WAAW,AAAC,IACvB,EAAI,gBAER,GACA,EAAY,GAAG,OAAO,AAAC,IACnB,EAAI,iBACJ,IAAM,EAAe,EAAI,cAAc,aAAa,MAC9C,EAAa,MAAM,KAAK,GAAc,OAAO,AAAA,GAAQ,EAAK,KAAK,WAAW,UAC5E,CAAA,EAAW,SACf,EAAQ,SAAS,UACjB,AAWJ,SAAsB,CAAU,EAC5B,IAAM,EAAW,IAAI,SACrB,EAAW,QAAQ,AAAA,IAChB,IAAM,EAAU,EAAE,oCAClB,EAAO,OAzCQ,qEA0Cf,EAAE,QAAQ,OAAO,GAEjB,EAAS,OAAO,SAAS,EAC5B,GACA,IAAM,EAAQ,EAAE,KAAK,CAAC,EAAE,EAAa,OAAO,CAAC,CAAC,CAC1C,OAAO,OACP,KAAK,EACL,YAAY,CAAA,EACZ,YAAY,CAAA,CAChB,GAIA,EAAM,KAAK,AAAC,IACR,EAAa,QAAQ,AAAA,IACjB,IAAM,EAAS,EAAE,iBAAiB,QAClC,EAAO,IAAI,mBAAmB,CAAC,KAAK,EAAE,EAAS,EAAE,CAAC,EAClD,EAAO,QACP,EAAO,YAAY,SACvB,EACJ,GACA,EAAM,KAAK,KACP,EAAE,iBAAiB,QACvB,EAEJ,EAzCiB,GAGjB,GACA,EAAQ,GAAG,WAAW,AAAC,GAAM,EAAI,kBACjC,EAAQ,GAAG,OAAO,AAAC,GAAM,EAAI,kBAE7B,EAAE,QAAQ,GAAG,QAAQ,sBAAsB,AAAC,IACxC,EAAI,OAAO,mBACf","sources":["<anon>","src/js/app.js"],"sourcesContent":["var $388b617130f03bd4$exports = {};\nconst $388b617130f03bd4$var$overlay = $(\"#overlay\");\nconst $388b617130f03bd4$var$btnUpload = $(\"#btn-upload\");\nconst $388b617130f03bd4$var$dropZoneElm = $(\"#drop-zone\");\nconst $388b617130f03bd4$var$REST_API_URL = `http://localhost:8080/gallery`;\nconst $388b617130f03bd4$var$cssLoaderHTML = `<div class=\"lds-facebook\"><div></div><div></div><div></div></div>`;\n$388b617130f03bd4$var$loadAllImages();\n$388b617130f03bd4$var$btnUpload.on(\"click\", ()=>$388b617130f03bd4$var$overlay.removeClass(\"d-none\"));\n$388b617130f03bd4$var$overlay.on(\"click\", (eventData)=>{\n    if (eventData.target === $388b617130f03bd4$var$overlay[0]) $388b617130f03bd4$var$overlay.addClass(\"d-none\");\n});\n$(document).on(\"keydown\", (eventData)=>{\n    if (eventData.key === \"Escape\" && !$388b617130f03bd4$var$overlay.hasClass(\"d-none\")) $388b617130f03bd4$var$overlay.addClass(\"d-none\");\n});\n$388b617130f03bd4$var$dropZoneElm.on(\"dragover\", (evt)=>{\n    evt.preventDefault();\n});\n$388b617130f03bd4$var$dropZoneElm.on(\"drop\", (evt)=>{\n    evt.preventDefault();\n    const droppedFiles = evt.originalEvent.dataTransfer.files;\n    const imageFiles = Array.from(droppedFiles).filter((file)=>file.type.startsWith(\"image/\"));\n    if (!imageFiles.length) return;\n    $388b617130f03bd4$var$overlay.addClass(\"d-none\");\n    $388b617130f03bd4$var$uploadImages(imageFiles);\n});\n$388b617130f03bd4$var$overlay.on(\"dragover\", (evt)=>evt.preventDefault());\n$388b617130f03bd4$var$overlay.on(\"drop\", (evt)=>evt.preventDefault());\n$(\"main\").on(\"click\", \".image:not(.loader)\", (evt)=>{\n    evt.target.requestFullscreen();\n});\nfunction $388b617130f03bd4$var$uploadImages(imageFiles) {\n    const formData = new FormData();\n    imageFiles.forEach((imageFile)=>{\n        const divElm = $(`<div class=\"image loader\"></div>`);\n        divElm.append($388b617130f03bd4$var$cssLoaderHTML);\n        $(\"main\").append(divElm);\n        formData.append(\"images\", imageFile);\n    });\n    const jqxhr = $.ajax(`${$388b617130f03bd4$var$REST_API_URL}/images`, {\n        method: \"POST\",\n        data: formData,\n        contentType: false,\n        processData: false\n    });\n    //content type bydefault jquery use application/x-www.formurl encoded\n    //process data bydefault jquery try to convert data to string\n    jqxhr.done((imageUrlList)=>{\n        imageUrlList.forEach((imageUrl)=>{\n            const divElm = $(\".image.loader\").first();\n            divElm.css(\"background-image\", `url('${imageUrl}')`);\n            divElm.empty();\n            divElm.removeClass(\"loader\");\n        });\n    });\n    jqxhr.fail(()=>{\n        $(\".image.loader\").remove();\n    });\n}\nfunction $388b617130f03bd4$var$loadAllImages() {\n    const jqxhr = $.ajax(`${$388b617130f03bd4$var$REST_API_URL}/images`);\n    jqxhr.done((imageFileList)=>{\n        imageFileList.forEach((imageUrl)=>{\n            const divElm = $(`<div class=\"image\"></div>`);\n            divElm.css(\"background-image\", `url('${imageUrl}')`);\n            $(\"main\").append(divElm);\n        });\n    });\n    jqxhr.fail(()=>{});\n}\n\n\n//# sourceMappingURL=index.91fb0303.js.map\n","\n\nconst overlay = $('#overlay');\nconst btnUpload = $('#btn-upload');\nconst dropZoneElm = $('#drop-zone');\nconst REST_API_URL = `http://localhost:8080/gallery`;\nconst cssLoaderHTML = `<div class=\"lds-facebook\"><div></div><div></div><div></div></div>`;\n\nloadAllImages();\n\nbtnUpload.on('click', () => overlay.removeClass('d-none'));\n\noverlay.on('click',(eventData)=>{\n   if(eventData.target===overlay[0]) overlay.addClass('d-none');\n});\n\n$(document).on('keydown',(eventData)=>{\n    if (eventData.key==='Escape' && !overlay.hasClass('d-none')){\n        overlay.addClass('d-none');\n    }\n});\n\ndropZoneElm.on('dragover',(evt)=>{\n    evt.preventDefault();\n\n});\ndropZoneElm.on('drop',(evt)=>{\n    evt.preventDefault();\n    const droppedFiles = evt.originalEvent.dataTransfer.files;\n    const imageFiles = Array.from(droppedFiles).filter(file => file.type.startsWith(\"image/\"));\n    if(!imageFiles.length)return;\n    overlay.addClass('d-none');\n    uploadImages(imageFiles);\n\n\n});\noverlay.on('dragover',(evt)=>evt.preventDefault());\noverlay.on('drop',(evt)=>evt.preventDefault());\n\n$('main').on('click','.image:not(.loader)',(evt)=>{\n    evt.target.requestFullscreen();\n})\n\nfunction uploadImages(imageFiles){\n    const formData = new FormData();\n    imageFiles.forEach(imageFile =>{\n       const divElm =  $(`<div class=\"image loader\"></div>`);\n       divElm.append(cssLoaderHTML);\n       $('main').append(divElm);\n\n       formData.append(\"images\",imageFile);\n    });\n    const jqxhr = $.ajax(`${REST_API_URL}/images`,{\n        method:'POST',\n        data:formData,\n        contentType:false,\n        processData:false\n    });\n    //content type bydefault jquery use application/x-www.formurl encoded\n    //process data bydefault jquery try to convert data to string\n\n    jqxhr.done((imageUrlList)=>{\n        imageUrlList.forEach(imageUrl =>{\n            const divElm = $('.image.loader').first();\n            divElm.css('background-image',`url('${imageUrl}')`);\n            divElm.empty();\n            divElm.removeClass('loader');\n        });\n    });\n    jqxhr.fail(()=>{\n        $(\".image.loader\").remove();\n    });\n\n}\nfunction loadAllImages(){\n    const jqxhr = $.ajax(`${REST_API_URL}/images`);\n    jqxhr.done((imageFileList)=>{\n\n        imageFileList.forEach(imageUrl =>{\n            const divElm = $(`<div class=\"image\"></div>`);\n            divElm.css('background-image',`url('${imageUrl}')`);\n            $('main').append(divElm);\n        });\n    });\n    jqxhr.fail(()=>{\n\n    });\n}"],"names":["$388b617130f03bd4$var$overlay","$","$388b617130f03bd4$var$btnUpload","$388b617130f03bd4$var$dropZoneElm","$388b617130f03bd4$var$REST_API_URL","$388b617130f03bd4$var$loadAllImages","jqxhr","ajax","done","imageFileList","forEach","imageUrl","divElm","css","append","fail","on","removeClass","eventData","target","addClass","document","key","hasClass","evt","preventDefault","droppedFiles","originalEvent","dataTransfer","files","imageFiles","Array","from","filter","file","type","startsWith","length","$388b617130f03bd4$var$uploadImages","formData","FormData","imageFile","method","data","contentType","processData","imageUrlList","first","empty","remove","requestFullscreen"],"version":3,"file":"index.91fb0303.js.map"}